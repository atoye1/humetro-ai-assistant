### 1. 사용자 입력을 받는다.
입력은 자연어로 된 문자열이다.

### 2. 사용자 입력을 해석한다.
사용자 입력에서 유의미한 엔티티를 추출해서 메타데이터를 만든다.
사용자 입력이 어떤 툴을 사용해야하는지 결정해서 이 역시 메타데이터로 전달한다.
이 과정이 메타데이터 추출과 태깅체인이 하는 역할이다.
LCEL을 통해서 메타데이터 체인을 만든다.
### 3. 사용자 입력에 적절한 컨텍스트를 찾는다.
사용자 입력과 추출된 메타데이터를 바탕으로 언어모델이 함수호출을 수행한다.
각각의 함수 호출결과를 컨텍스트로 삽입한다.
메모리는 외부에서 주입된다. Conversation Buffer Memory다.
### 4. 적절한 컨텍스트와 사용자 입력을 llm에 전달한다.
생성된 컨텍스트와 함수 호출 결과를 얻는다.
### 5. llm으로 부터 적절한 출력을 얻는다.
출력은 json형식으로 스트리밍되어 출력되는 것이 바람직한다.
출력을 위한 외부 api 호출을 위해선 정형화된(json) 형식도 필요하다.
### 6. 출력을 사용자에게 전달한다.